<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>社内学習ブラウザ</title>
    <style>
        /* CSSを追加して見た目を整えることができます */
        body {
            font-family: sans-serif;
            line-height: 1.6;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* 上部に寄せる */
            min-height: 100vh; /* 画面いっぱいに */
        }
        #quiz-container {
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            max-width: 600px; /* コンテンツ幅を制限 */
            width: 100%; /* レスポンシブ対応 */
        }
        #question-container {
            margin-bottom: 20px;
        }
        #question-title {
            color: #0056b3;
            margin-bottom: 15px;
            border-bottom: 2px solid #0056b3;
            padding-bottom: 10px;
        }
        #question-text {
            margin-bottom: 20px;
            white-space: pre-wrap; /* 改行を反映 */
        }
        #options-container label {
            display: block;
            margin-bottom: 12px;
            cursor: pointer;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        #options-container label:hover {
            background-color: #e9e9e9;
        }
        #options-container input[type="radio"] {
            margin-right: 10px;
            vertical-align: middle;
        }
        .option-text {
             vertical-align: middle;
        }
        #result {
            margin-top: 20px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            min-height: 1.5em; /* 結果表示エリアの高さを確保 */
        }
        #result.correct {
            color: green;
            background-color: #d4edda;
            border-color: #c3e6cb;
        }
        #result.incorrect {
            color: red;
            background-color: #f8d7da;
            border-color: #f5c6cb;
        }
        #check-button, #next-button, #reset-button {
            display: inline-block;
            margin-top: 20px;
            padding: 12px 20px;
            font-size: 16px;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        #check-button:hover, #next-button:hover, #reset-button:hover {
            background-color: #0056b3;
        }
         #check-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        #next-button {
             background-color: #28a745;
        }
        #next-button:hover {
             background-color: #218838;
        }
         #reset-button {
            background-color: #ffc107;
            color: #212529;
        }
        #reset-button:hover {
            background-color: #e0a800;
        }

        #quiz-end-message {
            margin-top: 30px;
            text-align: center;
        }
        #quiz-end-message h2 {
            color: #0056b3;
            margin-bottom: 15px;
        }
        #final-score {
            font-size: 1.2em;
            margin-bottom: 20px;
        }
        .correct-answer {
            color: green;
            font-weight: bold;
        }

        /* レスポンシブ対応 */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            #quiz-container {
                padding: 20px;
            }
            #check-button, #next-button, #reset-button {
                width: 100%;
                text-align: center;
                margin-top: 15px;
            }
        }
    </style>
</head>
<body>

    <div id="quiz-container">
        <div id="question-container">
            <h2 id="question-title"></h2>
            <p id="question-text"></p>
            <div id="options-container">
                </div>
            <button id="check-button">回答する</button>
            <div id="result"></div>
            <button id="next-button" style="display: none;">次の問題へ</button>
        </div>

        <div id="quiz-end-message" style="display: none;">
            <h2>クイズ終了！</h2>
            <p id="final-score"></p>
            <button id="reset-button">もう一度挑戦する</button>
        </div>
    </div>

    <script>
        // JSONデータをJavaScript変数として直接埋め込みます
        // ※実際には問8までのデータがすべて含まれている必要があります※
        const allQuizData = [
            {
                "問題番号": "問1",
                "年度": "第59回(平成21年)",
                "問題文": "次の記述は、計量法第1条の目的に関するものであるが、(ア)~(ウ)に入る語句の組合せとして正しいものを一つ選べ。\nこの法律は、計量の(ア)を定め、適正な(イ)を確保し、もって(ウ)に寄与することを目的とする。",
                "選択肢": [
                    "(ア)標準\n(イ)計量の実施\n(ウ)社会経済の発展及び生活水準の向上",
                    "(ア)基準\n(イ)計量の実施\n(ウ)経済の発展及び文化の向上",
                    "(ア)基準\n(イ)計量器の校正\n(ウ)社会経済の発展及び生活水準の向上",
                    "(ア)基準\n(イ)計量器の供給\n(ウ)経済の発展及び文化の向上",
                    "(ア)標準\n(イ)計量器の供給\n(ウ)社会経済の発展及び生活水準の向上"
                ],
                "正解": "2"
            },
            {
                "問題番号": "問2",
                "年度": "第59回(平成21年)",
                "問題文": "計量法の用語の定義に関する次のア~オの記述のうち、誤っているものの組合せを次の1~5の中から一つ選べ。\nア この法律において「取引」とは、公に又は業務上他人に一定の事実が真実で\nある旨を表明することをいう。\n\nイ この法律において「計量単位」とは、計量の基準となるものをいう。\nウ この法律で定める「物象の状態の量」には、速さは含まれない。\nエ この法律において「特定計量器」とは、取引若しくは証明における計量に使用され、又は主として一般消費者の生活の用に供されるすべての計量器をいう。\nオ この法律において「標準物質」とは、政令で定める物象の状態の量の特定の値が付された物質であって、当該物象の状態の量の計量をするための計量器の誤差の測定に用いるものをいう。",
                "選択肢": [
                    "ア、イ、エ、オ",
                    "ア、ウ、工",
                    " ア、ウ、オ",
                    " イ、エ、オ",
                    " イ、ウ、工"
                ],
                "正解": "2"
            },
            {
                "問題番号": "問3",
                "年度": "第59回(平成21年)",
                "問題文": "次の記述は、非法定計量単位の使用の禁止に関する計量法第8条第1項の規定であるが、(ア) 及び (イ)に入る語句の組合せとして正しいものを一つ選べ。\n第3条から第5条までに規定する計量単位(以下「法定計量単位」という。)以外の計量単位(以下「非法定計量単位」という。)は、第2条第1項第1号に掲げる物象の状態の量について、(ア) 又は(イ)に用いてはならない。",
                "選択肢": [
                    "(ア)計量\n(イ)計測",
                    "(ア)校正\n(イ)検定",
                    "(ア)取引\n(イ)証明",
                    "(ア)報告\n(イ)表示",
                    "(ア)販売\n(イ)陳列"
                ],
                "正解": "3"
            },
            {
                "問題番号": "問4",
                "年度": "第59回(平成21年)",
                "問題文": "次のア~オに示す物象の状態の量と法定計量単位との組合せのうち、正しいものがいくつあるか、次の1~5の中から一つ選べ。\nア\n[物象の状態の量]　周波数\n[法定計量単位]　サイクル\n\nイ\n[物象の状態の量]　長さ\n[法定計量単位]　ミクロン\n\nウ\n[物象の状態の量]　質量\n[法定計量単位]　トン\n\nエ\n[物象の状態の量]　力\n[法定計量単位]　重量キログラム\n\nオ\n[物象の状態の量]　体積\n[法定計量単位]　リットル",
                "選択肢": [
                    "1個",
                    "2個",
                    "3個",
                    "4個",
                    "5個"
                ],
                "正解": "2"
            },
            {
                "問題番号": "問5",
                "年度": "第59回(平成21年)",
                "問題文": "次の記述は、計量法第15条の特定商品の販売の事業を行う者に関するものであるが、(ア)~(ウ) に入る語句の組合せとして正しいものを一つ選べ。\n(ア)は、特定商品の販売の事業を行う者が規定を遵守していないため、当該特定商品を購入する者の利益が害されるおそれがあると認めるときは、これらの者に対し、必要な措置をとるべきことを(イ)することができる。\n(ア)は、前項の規定による(イ) をした場合において、その(イ)を受けた者がこれに従わなかったときは、その旨を(ウ) することができる。",
                "選択肢": [
                    "(ア)経済産業大臣\n(イ)勧告\n(ウ)公表",
                    "(ア)経済産業大臣\n(イ)勧告\n(ウ)警告",
                    "(ア)都道府県知事又は特定市町村の長\n(イ)命令\n(ウ)公表",
                    "(ア)経済産業大臣\n(イ)命令\n(ウ)勧告",
                    "(ア)都道府県知事又は特定市町村の長\n(イ)勧告\n(ウ)公表"
                ],
                "正解": "5"
            },
            {
                "問題番号": "問6",
                "年度": "第59回(平成21年)",
                "問題文": "計量法における計量器の使用に関する次の記述のうち、正しいものを一つ選べ。",
                "選択肢": [
                    "検定証印が付された特定計量器はすべて、取引又は証明における法定計量単位による計量に使用してよい。",
                    "特定計量器の中には、取引又は証明における法定計量単位による計量に際し、その使用方法について制限しているものはない。",
                    "巻尺は特定計量器ではないため、取引又は証明における法定計量単位による計量に使用することはできない。",
                    "特殊容器は計量器ではないため、これを用いて商品の体積を示して販売を行う際には、特定計量器を用いて体積を計量する必要がある。",
                    "検定証印が付されていない特定計量器であっても、取引又は証明における法定計量単位による計量に使用してよい場合がある。"
                ],
                "正解": "5"
            },
            {
                "問題番号": "問7",
                "年度": "第59回(平成21年)",
                "問題文": "計量法第19条の定期検査に関する次のア~オの記述のうち、正しいものがいくつあるか、次の1~5の中から一つ選べ。\n\nア 計量法第107条の計量証明の事業の登録を受けた者が計量上の証明に使用する特定計量器は、定期検査を受けなければならない。\n\nイ 定期検査の合格条件の一つとして、その器差が経済産業省令で定める使用公差を超えないこと、がある。\n\nウ特定計量器のうち定期検査の対象となるものに分銅及びおもりがある。\n\nエ定期検査は、2年以上において特定計量器ごとに政令で定める期間に1回、区域ごとに行う。\n\nオ 都道府県知事又は特定市町村の長は、その指定する者(指定定期検査機関)に、定期検査を行わせることができる。",
                "選択肢": [
                    "1個",
                    "2個",
                    "3個",
                    "4個",
                    "5個"
                ],
                "正解": "3"
            },
            {
                "問題番号": "問8",
                "年度": "第59回(平成21年)",
                "問題文": "次の記述のうち、計量法第28条の指定定期検査機関の指定の基準として誤っているものを一つ選べ。",
                "選択肢": [
                    "経済産業省令で定める条件に適合する知識経験を有する者が定期検査を実施し、その数が経済産業省令で定める数以上であること。",
                    "指定定期検査機関の指定を取り消されたことがないこと。",
                    "法人にあっては、その役員又は法人の種類に応じて経済産業省令で定める構成員の構成が定期検査の公正な実施に支障を及ぼすおそれがないものであること。",
                    "検査業務を適確かつ円滑に行うに必要な経理的基礎を有するものであること。",
                    "経済産業省令で定める器具、機械又は装置を用いて定期検査を行うものであること。"
                ],
                "正解": "2"
            },
             {
        "問題番号": "問9",
        "年度": "第59回(平成21年)",
        "問題文": "計量法第50条第1項で規定する一定期間の経過後修理が必要となる特定計量器でないものを一つ選べ。",
        "選択肢": [
            "ガスメーター",
            "最大需要電力計",
            "水道メーター",
            "積算熱量計",
            "照度計"
        ],
        "正解": "5"
    },
    {
        "問題番号": "問10",
        "年度": "第59回(平成21年)",
        "問題文": "計量法第53条第1項の政令で定める特定計量器 (ヘルスメーター等の家庭用特定計量器)に関する次の記述のうち、誤っているものを一つ選べ。",
        "選択肢": [
            "国内で当該特定計量器の製造の事業を行おうとする者(自己が取引又は証明における計量以外にのみ使用する特定計量器の製造の事業を行う者を除く。)は、都道府県知事を経由して経済産業大臣に届け出なければならない。",
            "都道府県知事に届け出なくても、当該特定計量器の販売の事業を行ってよい。",
            "国内で販売する目的で当該特定計量器を製造する際には、当該特定計量器が経済産業省令で定める技術上の基準に適合するようにしなければならない。",
            "当該特定計量器の販売の事業を行う者は、経済産業省令で定める以下の表示又は検定証印等が付されているものでなければ、当該特定計量器を販売し、又は販売の目的で陳列してはならない。ただし、輸出のため当該特定計量器を販売する場合において、あらかじめ、都道府県知事に届け出たときは、この限りでない。",
            "当該特定計量器に経済産業省令で定める以下の表示が付されている場合、取引又は証明における法定計量単位による計量に使用することができる。(丸正マーク記載)"
        ],
        "正解": "5"
    },
    {
        "問題番号": "問11",
        "年度": "第59回(平成21年)",
        "問題文": "特定計量器の型式の承認に関する次の記述のうち、誤っているものを一つ選べ。",
        "選択肢": [
            "承認輸入事業者は、その承認に係る型式に属する特定計量器(輸出のため販売される場合においてあらかじめ都道府県知事に届け出たものを除く。)を輸入したときは、経済産業省令で定めるところにより、これに表示を付することができる。",
            "届出製造事業者は、承認を受けようとする型式の特定計量器について、当該特定計量器の検定を行う指定検定機関の行う試験を受けることができる。",
            "承認製造事業者は、その承認に係る型式に属する特定計量器を製造するときは、いかなる場合であっても、当該製造する特定計量器が製造技術基準に適合するようにしなければならない。",
            "特定計量器の型式の承認は、特定計量器ごとに政令で定める期間ごとにその更新を受けなければ、その期間の経過によって、その効力を失う。",
            "承認製造事業者がその届出に係る特定計量器の製造の事業を廃止したとき、又は承認輸入事業者が特定計量器の輸入の事業を廃止したときは、その承認は効力を失う。"
        ],
        "正解": "3"
    },
    {
        "問題番号": "問12",
        "年度": "第59回(平成21年)",
        "問題文": "指定製造事業者制度に関する次の記述のうち、誤っているものを一つ選べ。",
        "選択肢": [
            "指定製造事業者の指定は、届出製造事業者又は外国製造事業者の申請により行う。",
            "指定製造事業者の指定は、経済産業省令で定める事業の区分に従い、その工場又は事業場ごとに行う。",
            "経済産業大臣は、指定製造事業者の指定の申請に係る工場又は事業場における品質管理の方法が経済産業省令で定める基準に適合すると認めるときでなければ、その指定をしてはならない。",
            "指定製造事業者の指定を受けようとする届出製造事業者は、当該工場又は事業場における品質管理の方法について、当該特定計量器の検定を行う指定検定機関の行う調査を受けなければならない。",
            "経済産業大臣は、当該指定に係る工場又は事業場における品質管理の方法が「経済産業省令で定める基準に適合していないと認めるときは、指定製造事業者に対し、必要な措置をとるべきことを命ずることができる。"
        ],
        "正解": "4"
    },
    {
        "問題番号": "問13",
        "年度": "第59回(平成21年)",
        "問題文": "基準器検査に関する次の記述のうち、誤っているものを一つ選べ。",
        "選択肢": [
            "経済産業省令で、基準器検査を行う計量器の種類及びこれを受けることができる者が定められている。",
            "基準器検査を行った計量器が、その構造が経済産業省令で定める技術上の基準に適合し、かつ、その器差が経済産業省令で定める基準に適合した場合は合格とする。",
            "基準器検査に合格した計量器には、経済産業省令で定めるところにより、基準器検査証印を付する。",
            "計量器が基準器検査に合格したときは、基準器検査を申請した者に対し、基準器検査成績書を交付する。",
            "基準器を譲渡し、又は貸し渡すときは、基準器検査成績書の消印を受けなければならない。"
        ],
        "正解": "5"
    },
    {
        "問題番号": "問14",
        "年度": "第59回(平成21年)",
        "問題文": "計量法第106条第1項の政令で規定されている指定検定機関の指定の区分として誤っているものを一つ選べ。",
        "選択肢": [
            "振動レベル計",
            "水道メーター及び温水メーター",
            "積算熱量計",
            "ガラス製体温計",
            "タクシーメーター"
        ],
        "正解": "5"
    },
    {
        "問題番号": "問15",
        "年度": "第59回(平成21年)",
        "問題文": "計量証明の事業に関する次の記述のうち、誤っているものを一つ選べ。",
        "選択肢": [
            "計量証明の事業の登録は、事業所単位ではなく企業単位であり、全国に二以上の事業所を有する企業はそれらを一括して本社所在地を管轄する都道府県知事又は特定市町村の長に申請しなければならない。",
            "計量証明の事業の登録を受けるための申請書に記載することが必要な事項の一つとして、計量証明に使用する特定計量器その他の器具、機械又は装置であって経済産業省令で定めるものの名称、性能及び数、がある。",
            "都道府県知事は、計量証明事業者が計量法で定める登録の基準に適合しなくなったと認めるときは、その計量証明事業者に対し、その基準に適合するために必要な措置をとるべきことを命ずることができる。",
            "都道府県知事は、計量証明事業者が届出に係る事業規程を実施していないと認めるときは、その登録を取り消し、又は1年以内の期間を定めて、その事業の停止を命ずることができる。",
            "計量証明事業の登録を受けた者は、その登録に係る事業の実施の方法に関し経済産業省令で定める事項を記載した事業規程を作成し、その登録を受けた後、遅滞なく、都道府県知事に届け出なければならない。"
        ],
        "正解": "1"
    },
    {
        "問題番号": "問16",
        "年度": "第59回(平成21年)",
        "問題文": "計量証明検査に関する次の記述のうち、誤っているものを一つ選べ。",
        "選択肢": [
            "計量証明事業者は、登録を受けた日から特定計量器ごとに政令で定める期間ごとに、経済産業省令で定めるところにより、経済産業大臣が行う計量証明検査を受けなければならない。",
            "計量証明検査を受けなければならない特定計量器には、検定を行った年月又は基準適合証印を付した年月の翌月1日から起算して特定計量器ごとに政令で定める期間を経過しない検定証印等が付されているものは含まれない。",
            "計量証明検査を行った特定計量器の合格条件は、検定証印等 (有効期間が定められているものにあっては、有効期間を経過していないものに限る。)が付されていること、その性能が経済産業省令で定める技術上の基準に適合していること、その器差が経済産業省令で定める使用公差を超えないこと、である。",
            "計量証明検査に合格した特定計量器には、経済産業省令で定めるところにより、計量証明検査済証印を付すとともに、その証印には、その計量証明検査を行った年月を表示するものとする。",
            "計量証明検査に合格しなかった特定計量器に検定証印等が付されているときは、その検定証印等を除去する。"
        ],
        "正解": "1"
    },
    {
        "問題番号": "問17",
        "年度": "第59回(平成21年)",
        "問題文": "次に示す計量証明に使用する特定計量器と計量法第116条第1項の政令で定める計量証明検査を受けるべき期間と計量証明検査を受けることを要しない期間との組合せのうち、正しいものを一つ選べ。\n\n\n1\n[特定計量器] 皮革面積計\n[計量証明検査を受けるべき期間] 2年\n[計量証明検査を受けることを要しない期間] 1年\n\n2\n[特定計量器] 騒音計\n[計量証明検査を受けるべき期間] 3年\n[計量証明検査を受けることを要しない期間] 1年\n\n3\n[特定計量器] 振動レベル計\n[計量証明検査を受けるべき期間] 3年\n[計量証明検査を受けることを要しない期間] 1年\n\n4\n[特定計量器] ボンベ型熱量計\n[計量証明検査を受けるべき期間] 5年\n[計量証明検査を受けることを要しない期間] 2年\n\n5\n[特定計量器] 非自動はかり\n[計量証明検査を受けるべき期間] 2年\n[計量証明検査を受けることを要しない期間] 1年",
        "選択肢": [
            "1",
            "2",
            "3",
            "4",
            "5"
        ],
        "正解": "5"
    },
    {
        "問題番号": "問18",
        "年度": "第59回(平成21年)",
        "問題文": "次のア~オの記述のうち、特定計量証明事業の認定を受けるための適合要件として、計量法第121条の2で規定されている三つの要件の組合せとして正しいものを、次の1~5の中から一つ選べ。\n\nア法人にあっては、その役員又は法人の種類に応じて経済産業省令で定める構成員の構成が特定計量証明事業の公正な実施に支障を及ぼすおそれがないものであること。\n\nイ 特定計量証明事業を適正に行うに必要な管理組織を有するものであること。\n\nウ特定計量証明事業を適確かつ円滑に行うに必要な経理的基礎を有するものであること。\n\nエ 特定計量証明事業を適正に行うに必要な業務の実施の方法が定められているものであること。\nオ 特定計量証明事業を適確かつ円滑に行うに必要な技術的能力を有するもので\nあること。",
        "選択肢": [
            "ア、イ、ウ",
            "イ、ウ、エ",
            " ウ、エ、オ",
            "イ、エ、オ",
            " ア、ウ、オ"
        ],
        "正解": "4"
    },
    {
        "問題番号": "問19",
        "年度": "第59回(平成21年)",
        "問題文": "特定計量証明事業に関する次のア~オの記述のうち、正しいものがいくつあるか、次の1~5の中から一つ選べ。\n\nア認定特定計量証明事業者の認定は、3年を下らない政令で定める期間ごとにその更新を受けなければ、その期間の経過によって、その効力を失う。\n\nイ 特定計量証明認定機関は、認定特定計量証明事業者が不正の手段により特定計量証明事業の認定を受けたときは、その認定を取り消すことができる。\n\nウ特定計量証明事業とは、濃度、音圧レベルその他の物象の状態の量で極めて微量のものの計量証明を行うために高度の技術を必要とするものとして政令で定める事業をいう。\n\nエ認定特定計量証明事業者が当該認定に係る事業の全部を譲渡したときは、その事業の全部を譲り受けた者は、その認定特定計量証明事業者の地位を承継する。\n\nオ 認定特定計量証明事業者は、当該事業所において、経済産業省令で定める様式の標識を掲げることができる。",
        "選択肢": [
            "1個",
            "2個",
            "3個",
            "4個",
            "5個"
        ],
        "正解": "3"
    },
    {
        "問題番号": "問20",
        "年度": "第59回(平成21年)",
        "問題文": "計量士に関する次の記述のうち、誤っているものを一つ選べ。",
        "選択肢": [
            "経済産業大臣は、計量器の検査その他の計量管理を適確に行うために必要な知識経験を有する者を計量士として登録する。",
            "経済産業大臣は、計量士が不正の手段により計量士の登録を受けたときは、その登録を取り消し、又は1年以内の期間を定めて、計量士の名称の使用の停止を命ずることができる。",
            "計量士国家試験に合格した者が、計量士として経済産業大臣の登録を受けるためには、計量行政審議会の認定が必要である。",
            "計量士の登録を取り消された場合でも、再び登録申請をすることができる。",
            "計量士登録証の交付を受けた者は、登録が取り消されたときは、遅滞なく、その住所又は勤務地を管轄する都道府県知事を経由して、当該計量士登録証を経済産業大臣に返納しなければならない。"
        ],
        "正解": "3"
    },
    {
        "問題番号": "問21",
        "年度": "第59回(平成21年)",
        "問題文": "適正計量管理事業所に関する次の記述のうち、正しいものを一つ選べ。",
        "選択肢": [
            "適正計量管理事業所の指定の申請は、事業所単位ではなく企業単位であり、全国に二以上の事業所を有する企業はそれらを一括して本社所在地を管轄する都道府県知事又は特定市町村の長に申請しなければならない。",
            "適正計量管理事業所の指定は、その事業所の所在地を管轄する都道府県知事又は特定市町村の長が行う。",
            "国の事業所は、適正計量管理事業所の指定を受けることができない。",
            "適正計量管理事業所の指定を受けるための申請書に記載することが必要な事項の一つとして、当該事業所で使用する特定計量器の名称、性能及び数、がある。",
            "適正計量管理事業所の指定の申請をした者は、遅滞なく、当該事業所における計量管理の方法について経済産業大臣が行う検査を受けなければならない。"
        ],
        "正解": "4"
    },
    {
        "問題番号": "問22",
        "年度": "第59回(平成21年)",
        "問題文": "適正計量管理事業所に関する次の記述のうち、正しいものを一つ選べ。",
        "選択肢": [
            "適正計量管理事業所の指定を受けた者は、当該適正計量管理事業所において、経済産業省令で定める様式の標識を掲げなければならない。",
            "適正計量管理事業所においては、経済産業省令で定めるところにより、帳簿を備え、当該適正計量管理事業所で販売する特定商品に表示された特定物象量の誤差が量目公差の範囲にあるか否かの検査結果を記載し、これを保存しなければならない。",
            "適正計量管理事業所の指定は、3年ごとにその更新を受けなければ、その期間の経過によって、その効力を失う。",
            "適正計量管理事業所の指定を受けた者は、特定計量器に係る検定を行うことができる。",
            "適正計量管理事業所の指定を受けた者がその指定に係る事業所において使用する特定計量器は、都道府県知事又は特定市町村の長が行う定期検査を受けることを要しない。"
        ],
        "正解": "5"
    },
    {
        "問題番号": "問23",
        "年度": "第59回(平成21年)",
        "問題文": "特定標準器による校正等に関する次の記述のうち、正しいものを一つ選べ。",
        "選択肢": [
            "経済産業大臣は、計量器の標準となる特定の物象の状態の量を現示する計量器又はこれを現示する標準物質を製造するための器具、機械若しくは装置を指定するものとする。",
            "経済産業大臣、日本電気計器検定所又は指定校正機関は、特定標準器による校正等を行ったときは、器差及び器差の補正の方法を記載した成績書を交付するものとする。",
            "経済産業大臣、日本電気計器検定所又は指定校正機関は、特定標準器による校正等を行うことを求められたときは、いかなる場合であっても、特定標準器による校正等を行わなければならない。",
            "指定校正機関の指定は、都道府県知事が定めるところにより、特定標準器による校正等を行おうとする者の申請により、その業務の範囲を限って行う。",
            "指定校正機関の指定の基準の一つとして、特定標準器による校正等の業務を行う計量士が置かれていること、がある。"
        ],
        "正解": "1"
    },
    {
        "問題番号": "問24",
        "年度": "第59回(平成21年)",
        "問題文": "計量法第143条第1項で定める計量器の校正等の事業を行う者の登録の有効期間として正しいものを、次の中から一つ選べ。",
        "選択肢": [
            "1年",
            "2年",
            "3年",
            "4年",
            "5年"
        ],
        "正解": "4"
    },
    {
        "問題番号": "問25",
        "年度": "第59回(平成21年)",
        "問題文": "取引又は証明における法定計量単位による計量に計量器でないものを使用したことにより、計量法第16条第1項の規定に違反した者に適用される計量法における罰則等として正しいものを、次の中から一つ選べ。",
        "選択肢": [
            "6月以下の懲役若しくは50万円以下の罰金に処せられ、又はこれを併科される。",
            "30万円以下の過料に処せられる。",
            "1万円未満の科料に処せられる。",
            "経済産業大臣によって業務停止を命令される。",
            "計量法には当該者に対する罰則規定はなく、刑法の規定による処罰を受ける。"
        ],
        "正解": "1"
    } 
        
        ];

        let questions = []; // 出題するランダムな5問を格納します
        const numberOfQuestionsToAsk = 5; // 出題する問題数
        let currentQuestionIndex = -1; // 現在の問題のインデックス (0から始まります)
        let correctAnswers = 0; // 正答数
        let answered = false; // 回答済みフラグ

        // DOM要素の取得
        const questionContainer = document.getElementById('question-container');
        const questionTitle = document.getElementById('question-title');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const resultDiv = document.getElementById('result');
        const checkButton = document.getElementById('check-button');
        const nextButton = document.getElementById('next-button');
        const quizEndMessage = document.getElementById('quiz-end-message');
        const finalScore = document.getElementById('final-score');
        const resetButton = document.getElementById('reset-button');

        // ボタンにイベントリスナーを設定
        checkButton.addEventListener('click', checkAnswer);
        nextButton.addEventListener('click', loadNextQuestion);
        resetButton.addEventListener('click', resetQuiz);

        // 配列をシャッフルする関数 (Fisher-Yates (Knuth) Shuffle)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; // 要素を交換
            }
            return array;
        }

        // クイズを初期化し、ランダムな問題をセットする関数
        function initQuiz() {
            correctAnswers = 0; // 正答数をリセット
            currentQuestionIndex = -1; // 問題インデックスをリセット

            // 全問題データをシャッフルし、指定された問題数だけ選択
            if (allQuizData.length >= numberOfQuestionsToAsk) {
                questions = shuffleArray([...allQuizData]).slice(0, numberOfQuestionsToAsk);
                loadNextQuestion(); // 最初の問題をロードしてクイズ開始
            } else {
                // 問題数が足りない場合のエラーハンドリング
                console.error('問題データが指定された出題数より少ないです。');
                if (resultDiv) {
                    resultDiv.textContent = `問題データが不足しています。最低${numberOfQuestionsToAsk}問必要です。`;
                }
                 if (questionContainer) {
                    questionContainer.style.display = 'none';
                }
                if (checkButton) {
                    checkButton.style.display = 'none';
                }
                if (nextButton) {
                    nextButton.style.display = 'none';
                }
                 if (quizEndMessage) {
                    quizEndMessage.style.display = 'block';
                }
                 if (finalScore) {
                    finalScore.textContent = ''; // スコア表示はなし
                }
                 if (resetButton) {
                    resetButton.style.display = 'none'; // リセットボタンも非表示
                }
            }
        }


        function loadNextQuestion() {
            answered = false;
            currentQuestionIndex++;

            // 結果表示と「次へ」ボタンをクリア/非表示
            if (resultDiv) {
                resultDiv.textContent = '';
                resultDiv.className = ''; // スタイルクラスもリセット
            }
            if (nextButton) nextButton.style.display = 'none';
             if (checkButton) {
                 checkButton.style.display = 'inline-block'; // 回答ボタンを表示
                 checkButton.disabled = false; // 回答ボタンを有効化
            }

            // オプションコンテナの内容をクリア
            if (optionsContainer) {
                 optionsContainer.innerHTML = '';
            }

            // currentQuestionIndexは0から始まるため、比較条件を修正
            if (currentQuestionIndex < questions.length) {
                // 問題表示モード
                if (quizEndMessage) quizEndMessage.style.display = 'none';
                if (questionContainer) questionContainer.style.display = 'block';
                if (resetButton) resetButton.style.display = 'none'; // リセットボタンを非表示


                const currentQuestion = questions[currentQuestionIndex];
                // 現在何問目かを表示に追加 (例: 1問目 / 全5問)
                if (questionTitle) questionTitle.textContent = `(${currentQuestionIndex + 1} / ${questions.length}) ${currentQuestion.年度} ${currentQuestion.問題番号}`;
                // 改行文字を<br>タグに変換
                if (questionText) questionText.innerHTML = currentQuestion.問題文.replace(/\n/g, '<br>');

                // 選択肢を動的に生成
                if (optionsContainer && currentQuestion.選択肢) {
                    currentQuestion.選択肢.forEach((optionText, index) => {
                        const label = document.createElement('label');
                        const input = document.createElement('input');
                        input.type = 'radio';
                        input.name = 'answer';
                        input.value = (index + 1).toString(); // 選択肢の値を1から設定

                        const span = document.createElement('span');
                        span.className = 'option-text';
                        span.textContent = `${index + 1}. ${optionText}`;

                        label.appendChild(input);
                        label.appendChild(span);
                        optionsContainer.appendChild(label);
                    });
                }

            } else {
                // クイズ終了モード
                if (questionContainer) questionContainer.style.display = 'none';
                if (checkButton) checkButton.style.display = 'none'; // 回答ボタンを非表示
                if (nextButton) nextButton.style.display = 'none'; // 次へボタンも念のため非表示

                if (finalScore) finalScore.textContent = `正答数: ${correctAnswers} / ${questions.length}`;
                if (quizEndMessage) quizEndMessage.style.display = 'block';
                if (resetButton) resetButton.style.display = 'block'; // リセットボタンを表示
            }
        }

        function checkAnswer() {
            if (!answered) {
                const selectedAnswer = document.querySelector('input[name="answer"]:checked');
                const optionsLabels = optionsContainer ? optionsContainer.querySelectorAll('label') : []; // label要素を取得、optionsContainer存在確認

                // 一旦すべての選択肢のスタイルをリセット
                optionsLabels.forEach(label => {
                    label.classList.remove('correct-answer');
                    label.style.color = '';
                    label.style.fontWeight = '';
                });

                if (selectedAnswer) {
                    const correctAnswer = questions[currentQuestionIndex].正解;
                    const selectedValue = selectedAnswer.value;

                    if (resultDiv) { // resultDiv存在確認
                        if (selectedValue === correctAnswer) {
                            resultDiv.textContent = '正解です！';
                            resultDiv.className = 'result correct'; // 正解スタイルを適用
                            correctAnswers++;
                        } else {
                            resultDiv.textContent = `不正解です。正解は ${correctAnswer} です。`;
                            resultDiv.className = 'result incorrect'; // 不正解スタイルを適用
                        }
                    }

                    // 正解の選択肢を強調表示
                    const correctOptionIndex = parseInt(correctAnswer) - 1;
                    if (correctOptionIndex >= 0 && correctOptionIndex < optionsLabels.length) {
                        optionsLabels[correctOptionIndex].classList.add('correct-answer');
                         // CSSクラスでスタイルを管理
                    }

                    if (nextButton) nextButton.style.display = 'block'; // 「次の問題」ボタンを表示
                    answered = true;
                    if (checkButton) checkButton.style.display = 'none'; // 回答ボタンを非表示

                } else {
                     if (resultDiv) { // resultDiv存在確認
                        resultDiv.textContent = '回答を選択してください。';
                        resultDiv.className = 'result'; // スタイルをリセット
                    }
                }
            }
        }

        function resetQuiz() {
            // クイズ終了メッセージを非表示
            if (quizEndMessage) quizEndMessage.style.display = 'none';
            // クイズを再初期化してランダムな問題を再度選択
            initQuiz();
        }

        // ページ読み込み完了後にクイズを初期化し、データを設定
        initQuiz();
    </script>

</body>
</html>
